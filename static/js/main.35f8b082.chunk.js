(this["webpackJsonptemplate-app"]=this["webpackJsonptemplate-app"]||[]).push([[0],{11:function(e,t,a){e.exports={button:"Button_button__30S4h"}},12:function(e,t,a){e.exports={backdrop:"Modal_backdrop__3dm9p",modal:"Modal_modal__1wlY2"}},29:function(e,t,a){},5:function(e,t,a){e.exports={searchBar:"Searchbar_searchBar__byalS",searchForm:"Searchbar_searchForm__2Xl_S",searchFormButton:"Searchbar_searchFormButton__cX3Oc",searchFormButtonLabel:"Searchbar_searchFormButtonLabel__JnydX",searchFormInput:"Searchbar_searchFormInput__3Mt79"}},69:function(e,t,a){},7:function(e,t,a){e.exports={imageGallery:"ImageGallery_imageGallery__3Vv10",imageGalleryItem:"ImageGallery_imageGalleryItem__3mhfs",imageGalleryItemImage:"ImageGallery_imageGalleryItemImage__1mNeD"}},70:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(8),c=a.n(r),o=(a(29),a(13)),l=a(4),s=a(1),i=a(22),u=a.n(i),m="https://pixabay.com/api/?key=".concat("4721358-13c427133c953f3e48d1d506d","&image_type=photo&orientation=horizontal&per_page=").concat(12,"&q="),b=function(e){var t=e.query,a=void 0===t?"":t,n=e.currentPage,r=void 0===n?1:n,c="".concat(m).concat(a,"&page=").concat(r);return u.a.get(c).then((function(e){return e.data.hits}))},j=a(5),d=a.n(j),h=function(e){var t=e.onSubmit,a=Object(s.useState)(""),r=Object(l.a)(a,2),c=r[0],o=r[1];return Object(n.jsx)("header",{className:d.a.searchBar,children:Object(n.jsxs)("form",{className:d.a.searchForm,onSubmit:function(e){e.preventDefault(),t(c),o("")},children:[Object(n.jsx)("button",{type:"submit",className:d.a.searchFormButton,children:Object(n.jsx)("span",{className:d.a.searchFormButtonLabel,children:"Search"})}),Object(n.jsx)("input",{className:d.a.searchFormInput,type:"text",value:c,onChange:function(e){var t=e.currentTarget;o(t.value)}})]})})},g=a(23),f=a.n(g),O=a(11),p=a.n(O),_=function(e){var t=e.onClick,a=e.isLoading;return Object(n.jsxs)("button",{className:p.a.button,type:"button",onClick:t,children:[Object(n.jsx)(f.a,{className:p.a.loader,type:"TailSpin",color:"#00BFFF",height:20,width:20,visible:a}),a?"":"Load more"]})},y=a(7),x=a.n(y),v=function(e){var t=e.webformatURL,a=e.onToggleModal,r=e.largeImageURL;return Object(n.jsx)("li",{className:x.a.imageGalleryItem,onClick:function(){return a(r)},children:Object(n.jsx)("img",{src:t,alt:"",className:x.a.imageGalleryItemImage})})},S=a(12),I=a.n(S),F=document.querySelector("#modal-root"),L=function(e){var t=e.onCloseModal,a=e.children;Object(s.useEffect)((function(){return window.addEventListener("keydown",c),function(){window.removeEventListener("keydown",c)}}));var c=function(e){"Escape"===e.code&&t()};return Object(r.createPortal)(Object(n.jsx)("div",{className:I.a.backdrop,onClick:function(e){e.target===e.currentTarget&&t()},children:Object(n.jsx)("div",{className:I.a.modal,children:a})}),F)};function w(e){e.query;var t=e.images,a=(e.currentPage,e.error),r=e.fetchImages,c=e.isLoading,o=Object(s.useState)(!1),i=Object(l.a)(o,2),u=i[0],m=i[1],b=Object(s.useState)(null),j=Object(l.a)(b,2),d=j[0],h=j[1],g=function(){m((function(e){return!e})),h(null)},f=function(e){g(),h(e)},O=t.length>0;return Object(n.jsxs)(n.Fragment,{children:[a&&Object(n.jsx)("h2",{children:a}),Object(n.jsx)("ul",{className:x.a.imageGallery,children:t.map((function(e){var t=e.id,a=e.webformatURL,r=e.largeImageURL;return Object(n.jsx)(v,{webformatURL:a,onToggleModal:f,largeImageURL:r},t)}))}),O&&Object(n.jsx)(_,{onClick:r,isLoading:c}),u&&Object(n.jsx)(L,{onCloseModal:g,children:Object(n.jsx)("img",{src:d,alt:""})})]})}a(69);var k=function(){var e=Object(s.useState)(""),t=Object(l.a)(e,2),a=t[0],r=t[1],c=Object(s.useState)([]),i=Object(l.a)(c,2),u=i[0],m=i[1],j=Object(s.useState)(1),d=Object(l.a)(j,2),g=d[0],f=d[1],O=Object(s.useState)(null),p=Object(l.a)(O,2),_=p[0],y=p[1],x=Object(s.useState)(!1),v=Object(l.a)(x,2),S=v[0],I=v[1];Object(s.useEffect)((function(){a&&F()}),[a]),Object(s.useEffect)((function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}));var F=function(){var e={query:a,currentPage:g};I(!0),b(e).then((function(e){return m((function(t){return[].concat(Object(o.a)(t),Object(o.a)(e))}))}),f((function(e){return e+1}))).catch((function(e){return y(e)})).finally((function(){return I(!1)}))};return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(h,{onSubmit:function(e){r(e),m([]),f(1),y(null)}}),Object(n.jsx)(w,{query:a,images:u,currentPage:g,error:_,isLoading:S,fetchImages:F})]})};c.a.render(Object(n.jsx)(k,{}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.35f8b082.chunk.js.map