(this["webpackJsonptemplate-app"]=this["webpackJsonptemplate-app"]||[]).push([[0],{11:function(e,t,a){e.exports={button:"Button_button__30S4h"}},12:function(e,t,a){e.exports={backdrop:"Modal_backdrop__3dm9p",modal:"Modal_modal__1wlY2"}},29:function(e,t,a){},5:function(e,t,a){e.exports={searchBar:"Searchbar_searchBar__byalS",searchForm:"Searchbar_searchForm__2Xl_S",searchFormButton:"Searchbar_searchFormButton__cX3Oc",searchFormButtonLabel:"Searchbar_searchFormButtonLabel__JnydX",searchFormInput:"Searchbar_searchFormInput__3Mt79"}},69:function(e,t,a){},7:function(e,t,a){e.exports={imageGallery:"ImageGallery_imageGallery__3Vv10",imageGalleryItem:"ImageGallery_imageGalleryItem__3mhfs",imageGalleryItemImage:"ImageGallery_imageGalleryItemImage__1mNeD"}},70:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(8),r=a.n(c),o=(a(29),a(4)),l=a(1),u=a(5),s=a.n(u),i=function(e){var t=e.onSubmit,a=Object(l.useState)(""),c=Object(o.a)(a,2),r=c[0],u=c[1];return Object(n.jsx)("header",{className:s.a.searchBar,children:Object(n.jsxs)("form",{className:s.a.searchForm,onSubmit:function(e){e.preventDefault(),t(r),u("")},children:[Object(n.jsx)("button",{type:"submit",className:s.a.searchFormButton,children:Object(n.jsx)("span",{className:s.a.searchFormButtonLabel,children:"Search"})}),Object(n.jsx)("input",{className:s.a.searchFormInput,type:"text",value:r,onChange:function(e){var t=e.currentTarget;u(t.value)}})]})})},m=a(13),b=a(22),j=a.n(b),d="https://pixabay.com/api/?key=".concat("4721358-13c427133c953f3e48d1d506d","&image_type=photo&orientation=horizontal&per_page=").concat(12,"&q="),h=function(e){var t=e.query,a=void 0===t?"":t,n=e.currentPage,c=void 0===n?1:n,r="".concat(d).concat(a,"&page=").concat(c);return j.a.get(r).then((function(e){return e.data.hits}))},f=a(23),g=a.n(f),O=a(11),p=a.n(O),_=function(e){var t=e.onClick,a=e.isLoading;return Object(n.jsxs)("button",{className:p.a.button,type:"button",onClick:t,children:[Object(n.jsx)(g.a,{className:p.a.loader,type:"TailSpin",color:"#00BFFF",height:20,width:20,visible:a}),a?"":"Load more"]})},y=a(7),x=a.n(y),v=function(e){var t=e.webformatURL,a=e.onToggleModal,c=e.largeImageURL;return Object(n.jsx)("li",{className:x.a.imageGalleryItem,onClick:function(){return a(c)},children:Object(n.jsx)("img",{src:t,alt:"",className:x.a.imageGalleryItemImage})})},S=a(12),I=a.n(S),F=document.querySelector("#modal-root"),w=function(e){var t=e.onCloseModal,a=e.children;Object(l.useEffect)((function(){return window.addEventListener("keydown",r),function(){window.removeEventListener("keydown",r)}}));var r=function(e){"Escape"===e.code&&t()};return Object(c.createPortal)(Object(n.jsx)("div",{className:I.a.backdrop,onClick:function(e){e.target===e.currentTarget&&t()},children:Object(n.jsx)("div",{className:I.a.modal,children:a})}),F)};function L(e){var t=e.query,a=Object(l.useState)([]),c=Object(o.a)(a,2),r=c[0],u=c[1],s=Object(l.useState)(1),i=Object(o.a)(s,2),b=i[0],j=i[1],d=Object(l.useState)(!1),f=Object(o.a)(d,2),g=f[0],O=f[1],p=Object(l.useState)(null),y=Object(o.a)(p,2),S=y[0],I=y[1],F=Object(l.useState)(!1),L=Object(o.a)(F,2),k=L[0],N=L[1],B=Object(l.useState)(null),G=Object(o.a)(B,2),C=G[0],E=G[1];Object(l.useEffect)((function(){t&&(u([]),j(1),I(null),M())}),[t]),Object(l.useEffect)((function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}));var M=function(){var e={query:t,currentPage:b};O(!0),h(e).then((function(e){return u((function(t){return[].concat(Object(m.a)(t),Object(m.a)(e))}))}),j((function(e){return e+1}))).catch((function(e){return I(e)})).finally((function(){return O(!1)}))},q=function(){N((function(e){return!e})),E(null)},R=function(e){q(),E(e)},T=r.length>0;return Object(n.jsxs)(n.Fragment,{children:[S&&Object(n.jsx)("h2",{children:S}),Object(n.jsx)("ul",{className:x.a.imageGallery,children:r.map((function(e){var t=e.id,a=e.webformatURL,c=e.largeImageURL;return Object(n.jsx)(v,{webformatURL:a,onToggleModal:R,largeImageURL:c},t)}))}),T&&Object(n.jsx)(_,{onClick:M,isLoading:g}),k&&Object(n.jsx)(w,{onCloseModal:q,children:Object(n.jsx)("img",{src:C,alt:""})})]})}a(69);var k=function(){var e=Object(l.useState)(""),t=Object(o.a)(e,2),a=t[0],c=t[1];return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(i,{onSubmit:function(e){c(e)}}),Object(n.jsx)(L,{query:a})]})};r.a.render(Object(n.jsx)(k,{}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.dae13a57.chunk.js.map