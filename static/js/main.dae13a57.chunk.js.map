{"version":3,"sources":["components/Button/Button.module.css","components/Modal/Modal.module.css","components/Searchbar/Searchbar.module.css","components/ImageGallery/ImageGallery.module.css","components/Searchbar/Searchbar.js","services/fetchAPI.js","components/Button/Button.js","components/ImageGallery/ImageGalleryItem.js","components/Modal/Modal.js","components/ImageGallery/ImageGallery.js","components/App.js","index.js"],"names":["module","exports","Searchbar","onSubmit","useState","query","setQuery","className","s","searchBar","searchForm","e","preventDefault","type","searchFormButton","searchFormButtonLabel","searchFormInput","value","onChange","currentTarget","baseURL","fetchImg","currentPage","url","axios","get","then","data","hits","Button","onClick","isLoading","button","loader","color","height","width","visible","ImageGalleryItem","webformatURL","onToggleModal","largeImageURL","imageGalleryItem","src","alt","imageGalleryItemImage","modalRoot","document","querySelector","Modal","onCloseModal","children","useEffect","window","addEventListener","handleKeyDown","removeEventListener","code","createPortal","backdrop","target","modal","ImageGallery","images","setImages","setCurrentPage","setIsLoading","error","setError","showModal","setShowModal","setLargeImageURL","fetchImages","scrollTo","top","documentElement","scrollHeight","behavior","options","prevState","catch","err","finally","toggleModal","handleModalImage","showButton","length","imageGallery","map","id","App","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.dae13a57.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__30S4h\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"Modal_backdrop__3dm9p\",\"modal\":\"Modal_modal__1wlY2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchBar\":\"Searchbar_searchBar__byalS\",\"searchForm\":\"Searchbar_searchForm__2Xl_S\",\"searchFormButton\":\"Searchbar_searchFormButton__cX3Oc\",\"searchFormButtonLabel\":\"Searchbar_searchFormButtonLabel__JnydX\",\"searchFormInput\":\"Searchbar_searchFormInput__3Mt79\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__3Vv10\",\"imageGalleryItem\":\"ImageGallery_imageGalleryItem__3mhfs\",\"imageGalleryItemImage\":\"ImageGallery_imageGalleryItemImage__1mNeD\"};","import { useState } from 'react';\nimport s from './Searchbar.module.css';\n\nconst Searchbar = ({ onSubmit }) => {\n  const [query, setQuery] = useState('');\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    onSubmit(query);\n    setQuery('');\n  };\n\n  const handleChange = ({ currentTarget }) => {\n    setQuery(currentTarget.value);\n  };\n\n  return (\n    <header className={s.searchBar}>\n      <form className={s.searchForm} onSubmit={handleSubmit}>\n        <button type=\"submit\" className={s.searchFormButton}>\n          <span className={s.searchFormButtonLabel}>Search</span>\n        </button>\n\n        <input\n          className={s.searchFormInput}\n          type=\"text\"\n          value={query}\n          onChange={handleChange}\n        />\n      </form>\n    </header>\n  );\n};\n\nexport default Searchbar;\n","import axios from 'axios';\n\nconst apiKey = '4721358-13c427133c953f3e48d1d506d';\nconst perPage = 12;\nconst baseURL = `https://pixabay.com/api/?key=${apiKey}&image_type=photo&orientation=horizontal&per_page=${perPage}&q=`;\n\nconst fetchImg = ({ query = '', currentPage = 1 }) => {\n  const url = `${baseURL}${query}&page=${currentPage}`;\n  return axios.get(url).then(({ data }) => data.hits);\n};\n\nexport default fetchImg;\n","import Loader from 'react-loader-spinner';\nimport s from './Button.module.css';\n\nconst Button = ({ onClick, isLoading }) => {\n  return (\n    <button className={s.button} type=\"button\" onClick={onClick}>\n      <Loader\n        className={s.loader}\n        type=\"TailSpin\"\n        color=\"#00BFFF\"\n        height={20}\n        width={20}\n        visible={isLoading}\n      />\n      {isLoading ? '' : 'Load more'}\n    </button>\n  );\n};\n\nexport default Button;\n","import s from './ImageGallery.module.css';\n\nconst ImageGalleryItem = ({ webformatURL, onToggleModal, largeImageURL }) => {\n  return (\n    <li\n      className={s.imageGalleryItem}\n      onClick={() => onToggleModal(largeImageURL)}\n    >\n      <img src={webformatURL} alt=\"\" className={s.imageGalleryItemImage} />\n    </li>\n  );\n};\n\nexport default ImageGalleryItem;\n","import { useEffect } from 'react';\nimport { createPortal } from 'react-dom';\nimport s from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nconst Modal = ({ onCloseModal, children }) => {\n  useEffect(() => {\n    window.addEventListener('keydown', handleKeyDown);\n\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown);\n    };\n  });\n\n  const handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      onCloseModal();\n    }\n  };\n\n  const handleBackdropClick = e => {\n    if (e.target === e.currentTarget) {\n      onCloseModal();\n    }\n  };\n\n  return createPortal(\n    <div className={s.backdrop} onClick={handleBackdropClick}>\n      <div className={s.modal}>{children}</div>\n    </div>,\n    modalRoot,\n  );\n};\n\nexport default Modal;\n","import { useState, useEffect } from 'react';\nimport fetchImg from '../../services/fetchAPI';\n\nimport Button from '../Button/Button';\nimport ImageGalleryItem from './ImageGalleryItem';\nimport Modal from '../Modal/Modal';\nimport s from './ImageGallery.module.css';\n\nexport default function ImageGallery({ query }) {\n  const [images, setImages] = useState([]);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [showModal, setShowModal] = useState(false);\n  const [largeImageURL, setLargeImageURL] = useState(null);\n\n  useEffect(() => {\n    if (query) {\n      setImages([]);\n      setCurrentPage(1);\n      setError(null);\n      fetchImages();\n    }\n  }, [query]);\n\n  useEffect(() => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  });\n\n  const fetchImages = () => {\n    const options = {\n      query,\n      currentPage,\n    };\n\n    setIsLoading(true);\n\n    fetchImg(options)\n      .then(\n        images => setImages(prevState => [...prevState, ...images]),\n        setCurrentPage(prevState => prevState + 1),\n      )\n      .catch(err => setError(err))\n      .finally(() => setIsLoading(false));\n  };\n\n  const toggleModal = () => {\n    setShowModal(prevState => !prevState);\n    setLargeImageURL(null);\n  };\n\n  const handleModalImage = url => {\n    toggleModal();\n    setLargeImageURL(url);\n  };\n\n  const showButton = images.length > 0;\n\n  return (\n    <>\n      {error && <h2>{error}</h2>}\n      <ul className={s.imageGallery}>\n        {images.map(({ id, webformatURL, largeImageURL }) => (\n          <ImageGalleryItem\n            key={id}\n            webformatURL={webformatURL}\n            onToggleModal={handleModalImage}\n            largeImageURL={largeImageURL}\n          />\n        ))}\n      </ul>\n\n      {showButton && <Button onClick={fetchImages} isLoading={isLoading} />}\n\n      {showModal && (\n        <Modal onCloseModal={toggleModal}>\n          <img src={largeImageURL} alt=\"\" />\n        </Modal>\n      )}\n    </>\n  );\n}\n","import { useState } from 'react';\nimport Searchbar from './Searchbar/Searchbar';\nimport ImageGallery from './ImageGallery/ImageGallery';\nimport './App.css';\n\nconst App = () => {\n  const [query, setQuery] = useState('');\n\n  const handleSubmitSearchbar = query => {\n    setQuery(query);\n  };\n\n  return (\n    <>\n      <Searchbar onSubmit={handleSubmitSearchbar} />\n      <ImageGallery query={query} />\n    </>\n  );\n};\n\nexport default App;\n","import ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}